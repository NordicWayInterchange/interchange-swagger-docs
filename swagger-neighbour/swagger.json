{"openapi":"3.0.1","info":{"title":"Neighbour API","description":"<a href=\"https://github.com/NordicWayInterchange\">Github</a>","license":{"name":"MIT License","url":"https://github.com/NordicWayInterchange/interchange/blob/federation-master/license.md"},"version":"1.0"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"paths":{"/subscriptions":{"post":{"tags":["neighbour-rest-controller"],"summary":"Request subscriptions","operationId":"requestSubscriptions","requestBody":{"description":"consumerCommonName is optional.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionRequestApi"},"example":{"version":"1.1NW3","name":"pilotinterchange.eu.bouvet.pilotinterchange.eu.per@ulv.no","subscriptions":[{"selector":"originatingCountry = 'NO' and messageType = 'DENM'","consumerCommonName":"pilotinterchange.eu.bouvet.pilotinterchange.eu.per@ulv.no"}]}}},"required":true},"responses":{"202":{"description":"Accepted","content":{"application/json":{"example":{"version":"1.1NW3","name":"pilotinterchange.eu.bouvet.pilotinterchange.eu","subscriptions":[{"id":"ddd0c289-ef27-4d0f-9c72-4717513d007f","selector":"originatingCountry = 'NO' and messageType = 'DENM'","consumerCommonName":"pilotinterchange.eu.bouvet.pilotinterchange.eu","path":"/subscriptions/ddd0c289-ef27-4d0f-9c72-4717513d007f","status":"REQUESTED","lastUpdatedTimestamp":1633525221175}]}}}}}}},"/capabilities":{"post":{"tags":["neighbour-rest-controller"],"summary":"Update capabilities","operationId":"updateCapabilities","requestBody":{"description":"Required attributes for a capability object's 'application' is dependent on it's messageType. To review attributes for the different message types, click the dropdown below. metadata is optional.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CapabilitiesApi"},"examples":{"messageType DENM":{"description":"messageType DENM","value":{"version":"1.1NW3","name":"pilotinterchange.eu.bouvet.pilotinterchange.eu","capabilities":[{"id":"ddd0c289-ef27-4d0f-9c72-4717513d007f","path":"/pilotinterchange.eu.bouvet.pilotinterchange.eu/capabilities/ddd0c289-ef27-4d0f-9c72-4717513d007f","definition":{"application":{"messageType":"DENM","publisherId":"NO00001","publicationId":"NO00001:25kkd7g2","originatingCountry":"NO","protocolVersion":"DENM:1.2.1","quadTree":["1100023322122","11011222221123","1101233333112","11013222211123","110122331112","1100011003222"],"causeCode":[6]},"metadata":{"shardCount":1,"infoUrl":"https://pub.info.no","redirectPolicy":"OPTIONAL","maxBandwidth":0,"maxMessageRate":0,"repetitionInterval":0}}}]}},"messageType DATEX":{"description":"messageType DATEX","value":"\"name\" : \"pilotinterchange.eu.bouvet.pilotinterchange.eu\",\n  \"version\" : \"1.0\",\n  \"capabilities\" : [ {\n    \"application\" : {\n      \"messageType\" : \"DATEX2\",\n      \"publisherId\" : \"NO00001\",\n      \"publicationId\" : \"NO00001:dk224512f\",\n      \"publicationType\" : \"SituationPublication\",\n      \"originatingCountry\" : \"NO\",\n      \"protocolVersion\" : \"DATEX2:3.1\",\n      \"quadTree\" : [ \"1100023322122\", \"11011222221123\", \"1101233333112\", \"11013222211123\", \"110122331112\", \"1100011003222\"]\n    },\n    \"metadata\" : {\n    \"shardCount\" : 1,\n    \"infoUrl\": \"https://pub.info.no\",\n    \"redirectPolicy\": \"OPTIONAL\",\n    \"maxBandwidth\": 0,\n    \"maxMessageRate\": 0,\n    \"repetitionInterval\": 0\n    }\n  } ]\n}\n"},"messageType IVIM":{"description":"messageType IVIM","value":{"name":"pilotinterchange.eu.bouvet.pilotinterchange.eu","version":"1.0","capabilities":[{"application":{"messageType":"IVIM","publisherId":"NO00001","publicationId":"NO00001:s21924dk","originatingCountry":"NO","protocolVersion":"IVIM:1.0","quadTree":["1100023322122","11011222221123","1101233333112","11013222211123","110122331112","1100011003222"]},"metadata":{"shardCount":1,"infoUrl":"https://pub.info.no","redirectPolicy":"OPTIONAL","maxBandwidth":0,"maxMessageRate":0,"repetitionInterval":0}}]}},"messageType CAM":{"description":"messageType CAM","value":{"name":"pilotinterchange.eu.bouvet.pilotinterchange.eu","version":"1.0","capabilities":[{"application":{"messageType":"CAM","publisherId":"NO00001","publicationId":"NO00001:s21924dk","originatingCountry":"NO","protocolVersion":"1.0","quadTree":["1100023322122","11011222221123","1101233333112","11013222211123","110122331112","1100011003222"]},"metadata":{"shardCount":1,"infoUrl":"https://pub.info.no","redirectPolicy":"OPTIONAL","maxBandwidth":0,"maxMessageRate":0,"repetitionInterval":0}}]}},"messageType MAPEM":{"description":"messageType MAPEM","value":{"name":"pilotinterchange.eu.bouvet.pilotinterchange.eu","version":"1.0","capabilities":[{"application":{"messageType":"MAPEM","publisherId":"NO00001","publicationId":"NO00001:s21924dk","originatingCountry":"NO","protocolVersion":"MAPEM:1.0","quadTree":["1100023322122","11011222221123","1101233333112","11013222211123","110122331112","1100011003222"]},"metadata":{"shardCount":1,"infoUrl":"https://pub.info.no","redirectPolicy":"OPTIONAL","maxBandwidth":0,"maxMessageRate":0,"repetitionInterval":0}}]}},"messageType SPATEM":{"description":"messageType SPATEM","value":{"name":"pilotinterchange.eu.bouvet.pilotinterchange.eu","version":"1.0","capabilities":[{"application":{"messageType":"SPATEM","publisherId":"NO00001","publicationId":"NO00001:s21924dk","originatingCountry":"NO","protocolVersion":"SPATEM:1.0","quadTree":["1100023322122","11011222221123","1101233333112","11013222211123","110122331112","1100011003222"]},"metadata":{"shardCount":1,"infoUrl":"https://pub.info.no","redirectPolicy":"OPTIONAL","maxBandwidth":0,"maxMessageRate":0,"repetitionInterval":0}}]}},"messageType SREM":{"description":"messageType SREM","value":{"name":"pilotinterchange.eu.bouvet.pilotinterchange.eu","version":"1.0","capabilities":[{"application":{"messageType":"SREM","publisherId":"NO00001","publicationId":"NO00001:s21924dk","originatingCountry":"NO","protocolVersion":"SREM:1.2","quadTree":["1100023322122","11011222221123","1101233333112","11013222211123","110122331112","1100011003222"]},"metadata":{"shardCount":1,"infoUrl":"https://pub.info.no","redirectPolicy":"OPTIONAL","maxBandwidth":0,"maxMessageRate":0,"repetitionInterval":0}}]}},"messageType SSEM":{"description":"messageType SSEM","value":{"name":"pilotinterchange.eu.bouvet.pilotinterchange.eu","version":"1.0","capabilities":[{"application":{"messageType":"SSEM","publisherId":"NO00001","publicationId":"NO00001:s21924dk","originatingCountry":"NO","protocolVersion":"SSEM:1.0","quadTree":["1100023322122","11011222221123","1101233333112","11013222211123","110122331112","1100011003222"]},"metadata":{"shardCount":1,"infoUrl":"https://pub.info.no","redirectPolicy":"OPTIONAL","maxBandwidth":0,"maxMessageRate":0,"repetitionInterval":0}}]}}}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"version":"1.1NW3","name":"pilotinterchange.eu.bouvet.pilotinterchange.eu","capabilities":[{"id":"d4626s9b-8583-4739-ae62-bd1dbc97154a","path":"/pilotinterchange.eu.bouvet.pilotinterchange.eu.per@ulv.no/capabilities/d4626s9b-8583-4739-ae62-bd1dbc97154a","definition":{"application":{"messageType":"DENM","publisherId":"NO00001","publicationId":"NO00001:s21924dk","originatingCountry":"NO","protocolVersion":"DENM:2.2.1","quadTree":["1100023322122","11011222221123","1101233333112","11013222211123","110122331112","1100011003222"],"causeCode":[6]},"metadata":{}}}]}}}}}}},"/{ixnName}/subscriptions":{"get":{"tags":["neighbour-rest-controller"],"summary":"List subscriptions","operationId":"listSubscriptions","parameters":[{"name":"ixnName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"version":"1.1NW3","name":"pilotinterchange.eu.bouvet.pilotinterchange.eu","subscriptions":[{"id":"d4626s9b-8583-4739-ae62-bd1dbc97154a","selector":"originatingCountry = 'NO' and messageType = 'DENM'","consumerCommonName":"pilotinterchange.eu.bouvet.pilotinterchange.eu.per@ulv.no","path":"/subscriptions/d4626s9b-8583-4739-ae62-bd1dbc97154a","status":"REQUESTED","lastUpdatedTimestamp":1633526284318},{"id":"d4626s9b-8583-4739-ae62-bd1dbc97154b","selector":"originatingCountry = 'NO' and messageType = 'DENM'","consumerCommonName":"pilotinterchange.eu.bouvet.pilotinterchange.eu.per@ulv.no","path":"/subscriptions/d4626s9b-8583-4739-ae62-bd1dbc97154b","status":"REQUESTED","lastUpdatedTimestamp":1633526284319}]}}}}}}},"/{ixnName}/subscriptions/{subscriptionId}":{"get":{"tags":["neighbour-rest-controller"],"summary":"Poll subscription","operationId":"pollSubscription","parameters":[{"name":"ixnName","in":"path","required":true,"schema":{"type":"string"}},{"name":"subscriptionId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"example":{"id":"d4626s9b-8583-4739-ae62-bd1dbc97154a","selector":"originatingCountry = 'NO' and messageType = 'DENM'","consumerCommonName":"pilotinterchange.eu.bouvet.pilotinterchange.eu","path":"/subscriptions/d4626s9b-8583-4739-ae62-bd1dbc97154a","status":"CREATED","lastUpdatedTimestamp":0,"endpoints":[{"host":"pilotinterchange.eu.bouvet.pilotinterchange.eu","port":5671,"source":"loc-8f7b4f7c-3286-4fe5-9221-0479006620d1","maxBandwidth":0,"maxMessageRate":0}]}}}}}},"delete":{"tags":["neighbour-rest-controller"],"summary":"Delete subscription","operationId":"deleteSubscription","parameters":[{"name":"ixnName","in":"path","required":true,"schema":{"type":"string"}},{"name":"subscriptionId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"RequestedSubscriptionApi":{"required":["selector"],"type":"object","properties":{"selector":{"type":"string"},"consumerCommonName":{"type":"string"}}},"SubscriptionRequestApi":{"type":"object","properties":{"version":{"type":"string"},"name":{"type":"string"},"subscriptions":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/RequestedSubscriptionApi"}}}},"ApplicationApi":{"type":"object","properties":{"messageType":{"type":"string"},"publisherId":{"type":"string"},"publicationId":{"type":"string"},"originatingCountry":{"type":"string"},"protocolVersion":{"type":"string"},"quadTree":{"type":"array","items":{"type":"string"}}},"discriminator":{"propertyName":"messageType"}},"CamApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"}]},"CapabilitiesApi":{"type":"object","properties":{"version":{"type":"string"},"name":{"type":"string"},"capabilities":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/CapabilityApi"}}}},"CapabilityApi":{"type":"object","properties":{"application":{"oneOf":[{"$ref":"#/components/schemas/CamApplicationApi"},{"$ref":"#/components/schemas/DatexApplicationApi"},{"$ref":"#/components/schemas/DenmApplicationApi"},{"$ref":"#/components/schemas/IvimApplicationApi"},{"$ref":"#/components/schemas/MapemApplicationApi"},{"$ref":"#/components/schemas/SpatemApplicationApi"},{"$ref":"#/components/schemas/SremApplicationApi"},{"$ref":"#/components/schemas/SsemApplicationApi"}]},"metadata":{"$ref":"#/components/schemas/MetadataApi"}}},"DatexApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"},{"type":"object","properties":{"publicationType":{"type":"string"},"publisherName":{"type":"string"}}}]},"DenmApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"},{"type":"object","properties":{"causeCode":{"type":"array","items":{"type":"integer","format":"int32"}}}}]},"IvimApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"}]},"MapemApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"}]},"MetadataApi":{"type":"object","properties":{"shardCount":{"type":"integer","format":"int32"},"infoUrl":{"type":"string"},"redirectPolicy":{"type":"string","enum":["OPTIONAL","MANDATORY","NOT_AVAILABLE"]},"maxBandwidth":{"type":"integer","format":"int32"},"maxMessageRate":{"type":"integer","format":"int32"},"repetitionInterval":{"type":"integer","format":"int32"}}},"SpatemApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"}]},"SremApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"}]},"SsemApplicationApi":{"type":"object","allOf":[{"$ref":"#/components/schemas/ApplicationApi"}]},"SubscriptionPollResponseApi":{"type":"object","properties":{"id":{"type":"string"},"selector":{"type":"string"},"consumerCommonName":{"type":"string"},"path":{"type":"string"},"status":{"type":"string","enum":["REQUESTED","CREATED","ILLEGAL","NOT_VALID","NO_OVERLAP","RESUBSCRIBE","ERROR"]},"lastUpdatedTimestamp":{"type":"integer","format":"int64"},"endpoints":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/EndpointApi"}}}},"EndpointApi":{"type":"object","properties":{"source":{"type":"string"},"host":{"type":"string"},"port":{"type":"integer","format":"int32"},"maxBandwidth":{"type":"integer","format":"int32"},"maxMessageRate":{"type":"integer","format":"int32"}}}}}}